---
title: "MongoDB $inc Operator"
description: "Learn how to use the MongoDB $inc operator to increment or decrement field values in your documents."

---

# MongoDB $inc Operator

## Introduction

The `$inc` operator is one of MongoDB's update operators that allows you to incrementally modify numeric values in your documents. This operator is particularly useful when you need to increase or decrease counters, update statistics, or manage any numeric data that changes over time without needing to retrieve, modify, and save the entire document.

Whether you're tracking page views, managing inventory quantities, or updating scores in a game, the `$inc` operator provides an atomic way to modify numeric values directly on the database server.

## Syntax

The basic syntax of the `$inc` operator is:

```javascript
{ $inc: { <field1>: <amount1>, <field2>: <amount2>, ... } }
```

Where:
- `<field>` is the name of the field you want to increment
- `<amount>` is the value by which you want to increment the field (use negative values to decrement)

## How $inc Works

The `$inc` operator works as follows:

1. If the field exists and contains a numeric value, it increments the field by the specified amount
2. If the field doesn't exist, it creates the field and sets its value to the specified amount
3. If the field exists but isn't a numeric value, the operation fails

Let's dive into some examples to see how it works in practice.

## Basic Examples

### Example 1: Incrementing a Single Field

Let's start with a simple collection of products:

```javascript
// Initial document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a1"),
  "name": "Widget",
  "price": 9.99,
  "quantity": 100
}
```

To increase the quantity by 10:

```javascript
db.products.updateOne(
  { name: "Widget" },
  { $inc: { quantity: 10 } }
)
```

After the update:

```javascript
// Updated document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a1"),
  "name": "Widget", 
  "price": 9.99,
  "quantity": 110  // Increased from 100 to 110
}
```

### Example 2: Decrementing a Field

To decrease a value, use a negative number:

```javascript
db.products.updateOne(
  { name: "Widget" },
  { $inc: { quantity: -5 } }
)
```

After the update:

```javascript
// Updated document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a1"),
  "name": "Widget",
  "price": 9.99,
  "quantity": 105  // Decreased from 110 to 105
}
```

### Example 3: Incrementing Multiple Fields

You can increment multiple fields in a single operation:

```javascript
db.products.updateOne(
  { name: "Widget" },
  { $inc: { 
      quantity: 20,
      price: 0.50,
      sales: 1
    } 
  }
)
```

After the update:

```javascript
// Updated document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a1"),
  "name": "Widget",
  "price": 10.49,     // Increased from 9.99 to 10.49
  "quantity": 125,    // Increased from 105 to 125
  "sales": 1          // New field created with value 1
}
```

### Example 4: Working with Non-Existent Fields

The `$inc` operator will create fields that don't exist:

```javascript
db.products.updateOne(
  { name: "Widget" },
  { $inc: { views: 1 } }
)
```

After the update:

```javascript
// Updated document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a1"),
  "name": "Widget",
  "price": 10.49,
  "quantity": 125,
  "sales": 1,
  "views": 1          // New field created with value 1
}
```

## Real-World Applications

### Inventory Management

One common use case for the `$inc` operator is inventory management:

```javascript
// Update inventory when an item is sold
db.products.updateOne(
  { sku: "ABC123" },
  { $inc: { 
      quantity: -1,      // Decrease quantity by 1
      sold: 1,           // Increment sold count
      revenue: 15.99     // Add the price to revenue
    }
  }
)
```

### Page View Counter

For a content management system or blog:

```javascript
// Increment the view count for an article
db.articles.updateOne(
  { slug: "mongodb-inc-operator-tutorial" },
  { $inc: { views: 1 } }
)
```

### User Activity Tracking

Track user engagement metrics:

```javascript
// Update user statistics
db.users.updateOne(
  { username: "john_doe" },
  { $inc: { 
      "stats.logins": 1,
      "stats.totalTimeSpent": 15, // 15 minutes
      "stats.actionsPerformed": 7
    }
  }
)
```

### Gaming Leaderboard

Update a player's score in a game:

```javascript
// Update player score
db.players.updateOne(
  { playerId: "player123" },
  { $inc: { 
      score: 150,
      level: 1,
      gamesPlayed: 1
    }
  }
)
```

## Working with Arrays and Nested Documents

The `$inc` operator can also work with arrays and nested documents using dot notation:

### Example: Incrementing Values in Nested Documents

```javascript
// Initial document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a2"),
  "name": "John Doe",
  "stats": {
    "posts": 5,
    "comments": 12,
    "likes": 30
  }
}
```

To increment the number of comments:

```javascript
db.users.updateOne(
  { name: "John Doe" },
  { $inc: { "stats.comments": 1 } }
)
```

After the update:

```javascript
// Updated document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a2"),
  "name": "John Doe",
  "stats": {
    "posts": 5,
    "comments": 13,  // Increased from 12 to 13
    "likes": 30
  }
}
```

### Example: Incrementing Values in Arrays

When working with arrays, you need to specify the array index:

```javascript
// Initial document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a3"),
  "title": "Blog Post",
  "comments": [
    { "user": "user1", "votes": 5 },
    { "user": "user2", "votes": 3 }
  ]
}
```

To increment votes for the first comment:

```javascript
db.posts.updateOne(
  { title: "Blog Post" },
  { $inc: { "comments.0.votes": 1 } }
)
```

After the update:

```javascript
// Updated document
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a3"),
  "title": "Blog Post",
  "comments": [
    { "user": "user1", "votes": 6 },  // Increased from 5 to 6
    { "user": "user2", "votes": 3 }
  ]
}
```

## Best Practices and Considerations

### Numeric Types

The `$inc` operator works with all numeric types in MongoDB:
- Integer (32-bit and 64-bit)
- Double
- Decimal128

### Atomicity

The `$inc` operation is atomic, which means:
- It's safe to use in concurrent environments
- No other operations can interrupt the increment
- There's no need to first query the document to determine its value

### Performance Benefits

Using `$inc` is more efficient than the traditional approach of:
1. Querying the document
2. Modifying the field in your application code
3. Updating the entire document

With `$inc`, you're:
- Reducing network traffic
- Minimizing the risk of race conditions
- Improving overall application performance

### Error Handling

If you try to use `$inc` on a non-numeric field, MongoDB will return an error:

```javascript
// Document with a string field
{
  "_id": ObjectId("5f8d3b9e9d3b2e1d94f1b8a4"),
  "name": "Test",
  "status": "active"
}

// This will fail
db.items.updateOne(
  { name: "Test" },
  { $inc: { status: 1 } }  // Error: Cannot apply $inc to a non-numeric field
)
```

## Summary

The MongoDB `$inc` operator is a powerful tool for incrementing or decrementing numeric field values in documents. Its key advantages include:

- **Atomicity**: Operations are atomic and safe in concurrent environments
- **Efficiency**: Eliminates the need to fetch and update entire documents
- **Versatility**: Works with single fields, nested documents, and array elements
- **Convenience**: Creates fields that don't exist and initializes them with the specified value

Whether you're building a counter, managing inventory, tracking user activity, or updating game scores, the `$inc` operator provides an elegant solution for numeric value modifications in MongoDB.

## Additional Resources and Exercises

### Resources
- [MongoDB Official Documentation on $inc](https://www.mongodb.com/docs/manual/reference/operator/update/inc/)
- [MongoDB Update Operators Overview](https://www.mongodb.com/docs/manual/reference/operator/update/)

### Exercises

1. **Practice Exercise**: Create a small blog system where each post has a view counter. Implement functionality to increment the view count each time a post is viewed.

2. **Challenge**: Implement a product inventory system that tracks:
   - Quantity in stock
   - Number of times a product has been viewed
   - Number of purchases
   - Revenue generated

3. **Advanced Exercise**: Create a user activity tracking system that:
   - Increments login count
   - Tracks time spent on site
   - Records actions performed
   - Updates levels based on activity

By mastering the `$inc` operator, you'll have a powerful tool for efficiently managing numeric data in your MongoDB applications.