---
title: "MySQL Auto Increment"
description: "Learn how to use MySQL auto increment feature to generate unique ID values automatically for your database tables."

---

# MySQL Auto Increment

## Introduction

When designing database tables, we often need a unique identifier for each record. Instead of manually assigning these values, MySQL provides a powerful feature called **Auto Increment** that automatically generates sequential numeric values for columns. This feature is particularly useful for primary key columns where each record needs a unique identifier.

In this tutorial, you'll learn how to create, modify, and work with auto-incrementing columns in MySQL tables. This knowledge is essential for proper database design and is used in virtually all production database applications.

## What is Auto Increment?

Auto Increment is a MySQL feature that:

- Automatically generates a unique numeric value for a column when a new record is inserted
- Typically increments by 1 from the last used value
- Is commonly applied to primary key columns
- Ensures data integrity by preventing duplicate IDs
- Simplifies database design by handling ID generation automatically

## Creating a Table with Auto Increment Column

To create a table with an auto-incrementing column, you use the `AUTO_INCREMENT` keyword when defining your table structure:

```sql
CREATE TABLE products (
    product_id INT AUTO_INCREMENT PRIMARY KEY,
    product_name VARCHAR(100) NOT NULL,
    price DECIMAL(10, 2),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Key points:**

1. The `AUTO_INCREMENT` attribute is applied to the `product_id` column
2. This column is also defined as the `PRIMARY KEY`
3. The column must be of an integer type (usually `INT` or `BIGINT`)
4. Each time you insert a record without specifying a value for `product_id`, MySQL automatically assigns the next value

## Inserting Records with Auto Increment

When adding records to a table with an auto-increment column, you have two options:

### Option 1: Let MySQL assign the ID automatically

```sql
INSERT INTO products (product_name, price) VALUES ('Laptop', 899.99);
INSERT INTO products (product_name, price) VALUES ('Smartphone', 499.99);
INSERT INTO products (product_name, price) VALUES ('Tablet', 299.99);
```

**Output:**
```
Query OK, 1 row affected (0.01 sec)
Query OK, 1 row affected (0.01 sec)
Query OK, 1 row affected (0.01 sec)
```

If we now select all records from the table:

```sql
SELECT * FROM products;
```

**Output:**
```
+-----------+--------------+--------+---------------------+
| product_id | product_name | price  | created_at         |
+-----------+--------------+--------+---------------------+
|         1 | Laptop       | 899.99 | 2023-10-25 14:30:12 |
|         2 | Smartphone   | 499.99 | 2023-10-25 14:30:12 |
|         3 | Tablet       | 299.99 | 2023-10-25 14:30:12 |
+-----------+--------------+--------+---------------------+
3 rows in set (0.00 sec)
```

Notice that MySQL automatically assigned `1`, `2`, and `3` as the `product_id` values.

### Option 2: Explicitly specify the ID value

You can also provide a specific value for the auto-increment column:

```sql
INSERT INTO products (product_id, product_name, price) VALUES (10, 'Headphones', 79.99);
INSERT INTO products (product_name, price) VALUES ('Mouse', 29.99);
```

**Output:**
```
Query OK, 1 row affected (0.01 sec)
Query OK, 1 row affected (0.01 sec)
```

Let's check the table again:

```sql
SELECT * FROM products;
```

**Output:**
```
+-----------+--------------+--------+---------------------+
| product_id | product_name | price  | created_at         |
+-----------+--------------+--------+---------------------+
|         1 | Laptop       | 899.99 | 2023-10-25 14:30:12 |
|         2 | Smartphone   | 499.99 | 2023-10-25 14:30:12 |
|         3 | Tablet       | 299.99 | 2023-10-25 14:30:12 |
|        10 | Headphones   |  79.99 | 2023-10-25 14:30:45 |
|        11 | Mouse        |  29.99 | 2023-10-25 14:30:45 |
+-----------+--------------+--------+---------------------+
5 rows in set (0.00 sec)
```

Notice that:
1. We explicitly set `product_id` to `10` for the "Headphones" record
2. The next auto-increment value becomes `11` for the "Mouse" record

## Finding the Last Inserted ID

After inserting a record with an auto-increment column, you might need to retrieve the generated ID. MySQL provides the `LAST_INSERT_ID()` function for this purpose:

```sql
INSERT INTO products (product_name, price) VALUES ('Keyboard', 49.99);
SELECT LAST_INSERT_ID();
```

**Output:**
```
+------------------+
| LAST_INSERT_ID() |
+------------------+
|               12 |
+------------------+
1 row in set (0.00 sec)
```

This is particularly useful in application code when you need to use the new ID for related data:

```php
$sql = "INSERT INTO products (product_name, price) VALUES ('Monitor', 199.99)";
$conn->query($sql);
$newProductId = $conn->insert_id;  // In PHP with mysqli
```

## Modifying Auto Increment Properties

### Changing the Auto Increment Starting Value

You can specify a starting value for auto-increment when creating a table:

```sql
CREATE TABLE categories (
    category_id INT AUTO_INCREMENT PRIMARY KEY,
    category_name VARCHAR(50) NOT NULL
) AUTO_INCREMENT = 1000;
```

This table will start assigning IDs from 1000 upwards.

If your table already exists, you can alter the auto-increment value:

```sql
ALTER TABLE products AUTO_INCREMENT = 100;
```

**Output:**
```
Query OK, 0 rows affected (0.03 sec)
```

Now, the next inserted record will get ID 100:

```sql
INSERT INTO products (product_name, price) VALUES ('Speaker', 89.99);
SELECT * FROM products;
```

**Output:**
```
+-----------+--------------+--------+---------------------+
| product_id | product_name | price  | created_at         |
+-----------+--------------+--------+---------------------+
|         1 | Laptop       | 899.99 | 2023-10-25 14:30:12 |
|         2 | Smartphone   | 499.99 | 2023-10-25 14:30:12 |
|         3 | Tablet       | 299.99 | 2023-10-25 14:30:12 |
|        10 | Headphones   |  79.99 | 2023-10-25 14:30:45 |
|        11 | Mouse        |  29.99 | 2023-10-25 14:30:45 |
|        12 | Keyboard     |  49.99 | 2023-10-25 14:31:20 |
|       100 | Speaker      |  89.99 | 2023-10-25 14:32:05 |
+-----------+--------------+--------+---------------------+
7 rows in set (0.00 sec)
```

### Finding the Current Auto Increment Value

To check the current auto-increment value for a table:

```sql
SHOW TABLE STATUS LIKE 'products';
```

**Output:**
```
+----------+--------+---------+------------+------+----------------+-------------+
| Name     | Engine | Version | Row_format | Rows | Auto_increment | Create_time |
+----------+--------+---------+------------+------+----------------+-------------+
| products | InnoDB |      10 | Dynamic    |    7 |            101 | 2023-10-25  |
+----------+--------+---------+------------+------+----------------+-------------+
(Additional columns omitted for brevity)
```

The `Auto_increment` column shows the next value that will be used.

## Adding Auto Increment to an Existing Table

If you have an existing table without an auto-increment column, you can add one:

```sql
ALTER TABLE orders 
ADD COLUMN order_id INT AUTO_INCREMENT PRIMARY KEY FIRST;
```

This adds an auto-incrementing `order_id` column as the first column and sets it as the primary key.

If you want to modify an existing column to use auto-increment:

```sql
ALTER TABLE customers
MODIFY customer_id INT AUTO_INCREMENT;
```

## Real-World Application Examples

### Example 1: Customer Management System

```sql
-- Create customers table with auto-incrementing ID
CREATE TABLE customers (
    customer_id INT AUTO_INCREMENT PRIMARY KEY,
    first_name VARCHAR(50) NOT NULL,
    last_name VARCHAR(50) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    registration_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Insert a new customer
INSERT INTO customers (first_name, last_name, email) 
VALUES ('John', 'Smith', 'john.smith@example.com');

-- Get the new customer ID for creating related records
SELECT LAST_INSERT_ID();

-- Create an address for this customer using the ID
INSERT INTO addresses (customer_id, address_type, street, city, state, postal_code)
VALUES (LAST_INSERT_ID(), 'Home', '123 Main St', 'Springfield', 'IL', '62704');
```

### Example 2: E-commerce Order System

```sql
-- Orders table with auto-incrementing order_id
CREATE TABLE orders (
    order_id INT AUTO_INCREMENT PRIMARY KEY,
    customer_id INT NOT NULL,
    order_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    total_amount DECIMAL(10, 2) NOT NULL DEFAULT 0,
    status ENUM('pending', 'processing', 'shipped', 'delivered') DEFAULT 'pending',
    FOREIGN KEY (customer_id) REFERENCES customers(customer_id)
);

-- Insert a new order
INSERT INTO orders (customer_id, total_amount) VALUES (1, 149.99);

-- Store the order ID to use in order items
SET @new_order_id = LAST_INSERT_ID();

-- Insert order items using the order ID
INSERT INTO order_items (order_id, product_id, quantity, unit_price) 
VALUES (@new_order_id, 1, 1, 99.99), (@new_order_id, 3, 1, 49.99);
```

## Best Practices for Auto Increment

1. **Always use auto-increment for primary keys** when records need a unique identifier.

2. **Choose the appropriate data type** based on your expected number of records:
   - `TINYINT` (up to 127 or 255)
   - `SMALLINT` (up to 32,767 or 65,535)
   - `INT` (up to 2.1 billion or 4.2 billion)
   - `BIGINT` (up to 9.2 quintillion or 18.4 quintillion)

3. **Don't rely on sequential IDs for security**. Auto-increment values are predictable and shouldn't be used for sensitive operations without additional validation.

4. **Be careful when importing data** to avoid auto-increment conflicts. You may need to reset the auto-increment value after bulk imports.

5. **Consider using UUID/GUID** instead of auto-increment when:
   - You need to generate IDs across multiple databases
   - You need to hide the size of your database
   - You want to avoid complex sharding issues

## Important Notes and Limitations

1. **Deletion doesn't reset auto-increment**. If you delete records, gaps will remain in the sequence.

2. **Auto-increment is not transaction-safe** in MyISAM tables. InnoDB handles this better.

3. **The maximum value depends on the data type**. When it reaches the maximum, insertion attempts will result in a duplicate key error.

4. **Auto-increment values can be reused** if the table is dropped and recreated, or if you reset the auto-increment value.

5. **MySQL saves the current auto-increment value** to disk only when the server restarts cleanly or when the table is closed properly.

## Summary

MySQL's auto-increment feature is an essential tool for database design that helps you:

- Automatically generate unique ID values
- Simplify database operations by handling ID assignment
- Ensure data integrity with unique identifiers
- Establish reliable primary keys for relationships

By implementing auto-increment columns, you ensure that each record has a unique identifier without manual intervention, reducing errors and simplifying your database interactions.

## Exercises

1. Create a `books` table with auto-incrementing `book_id` starting at 1000.

2. Insert 5 books into the table without specifying IDs, then insert one book with ID 2000. What will be the ID of the next automatically inserted book?

3. Create a `members` table and an `loans` table (for a library), with appropriate auto-incrementing primary keys and relationships.

4. Write a query to find the current auto-increment value for the `books` table.

5. After deleting all books with IDs greater than 1010, what happens to the next auto-increment value? How would you reset it to 1011?

## Additional Resources

- [MySQL Documentation on AUTO_INCREMENT](https://dev.mysql.com/doc/refman/8.0/en/example-auto-increment.html)
- [MySQL AUTO_INCREMENT with InnoDB](https://dev.mysql.com/doc/refman/8.0/en/innodb-auto-increment-handling.html)
- [Alternatives to AUTO_INCREMENT](https://dev.mysql.com/blog-archive/mysql-8-0-uuid-support/)

Happy coding and database designing!