# C Break & Continue

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Control flow statements are essential tools in C programming that allow you to change the normal sequence of program execution. Among these, `break` and `continue` statements play a crucial role in loops and switch statements by providing ways to alter the flow based on certain conditions.

## The `break` Statement

The `break` statement terminates the execution of the closest enclosing loop or switch statement.

### Usage in Loops

When a `break` statement is encountered inside a loop:
- The loop is immediately terminated
- Program control is transferred to the statement following the loop

```c
for (int i = 1; i <= 10; i++) {
    if (i == 5) {
        break; // Exit the loop when i equals 5
    }
    printf("%d ", i);
}
// Output: 1 2 3 4
```

### Usage in Switch

In a switch statement, `break` is used to prevent fall-through to the next case:

```c
int option = 2;
switch (option) {
    case 1:
        printf("Option 1 selected\n");
        break; // Exit switch statement
    case 2:
        printf("Option 2 selected\n");
        break; // Exit switch statement
    default:
        printf("Invalid option\n");
}
// Output: Option 2 selected
```

:::caution
Forgetting to include a `break` statement in switch cases will cause execution to "fall through" to the next case, which is usually undesirable behavior.
:::

## The `continue` Statement

The `continue` statement skips the remaining code in the current iteration of a loop and jumps to the next iteration.

### Behavior in Different Loop Types

<Tabs>
  <TabItem value="for" label="For Loop" default>
    ```c
    for (int i = 1; i <= 5; i++) {
        if (i == 3) {
            continue; // Skip the rest of this iteration
        }
        printf("%d ", i);
    }
    // Output: 1 2 4 5
    ```
    In a for loop, `continue` jumps to the update statement (i++) and then the condition is evaluated.
  </TabItem>
  <TabItem value="while" label="While Loop">
    ```c
    int i = 1;
    while (i <= 5) {
        if (i == 3) {
            i++; // Don't forget to update counter before continue
            continue;
        }
        printf("%d ", i);
        i++;
    }
    // Output: 1 2 4 5
    ```
    In a while loop, `continue` jumps to the condition check, so any increment must be done before the `continue`.
  </TabItem>
  <TabItem value="dowhile" label="Do-While Loop">
    ```c
    int i = 1;
    do {
        if (i == 3) {
            i++; // Don't forget to update counter before continue
            continue;
        }
        printf("%d ", i);
        i++;
    } while (i <= 5);
    // Output: 1 2 4 5
    ```
    In a do-while loop, `continue` jumps to the condition check, similar to while loops.
  </TabItem>
</Tabs>

:::tip
When using `continue` in while or do-while loops, be careful not to create an infinite loop by ensuring your counter variable is properly updated before the `continue` statement.
:::

## Practical Examples

### Example 1: Processing an Array While Skipping Negative Numbers

```c
#include <stdio.h>

int main() {
    int numbers[] = {10, -5, 7, 0, -3, 15, 8};
    int sum = 0;
    
    for (int i = 0; i < 7; i++) {
        if (numbers[i] < 0) {
            continue; // Skip negative numbers
        }
        sum += numbers[i];
    }
    
    printf("Sum of non-negative numbers: %d\n", sum);
    // Output: Sum of non-negative numbers: 40
    
    return 0;
}
```

### Example 2: Finding the First Occurrence

```c
#include <stdio.h>

int main() {
    int numbers[] = {45, 23, 67, 30, 12, 15, 50};
    int target = 30;
    int found = 0;
    int index = -1;
    
    for (int i = 0; i < 7; i++) {
        if (numbers[i] == target) {
            found = 1;
            index = i;
            break; // No need to continue searching
        }
    }
    
    if (found) {
        printf("Target %d found at index %d\n", target, index);
    } else {
        printf("Target %d not found\n", target);
    }
    
    return 0;
}
```

### Example 3: Nested Loops with Break and Continue

```c
#include <stdio.h>

int main() {
    for (int i = 1; i <= 3; i++) {
        printf("Outer loop iteration %d:\n", i);
        
        for (int j = 1; j <= 5; j++) {
            if (j == 2) {
                continue; // Skip j=2 in inner loop
            }
            if (j == 4 && i == 2) {
                break; // Exit inner loop when j=4 and i=2
            }
            printf("  Inner loop: j=%d\n", j);
        }
        printf("\n");
    }
    
    return 0;
}
```

## Common Pitfalls and Best Practices

### Potential Issues

1. **Infinite Loops**: Using `continue` without properly updating loop counters
2. **Break in Nested Loops**: `break` only exits the innermost loop, not all loops
3. **Missing `break` in Switch**: Causes unintended fall-through behavior

### Best Practices

- Use `break` and `continue` judiciously to make your code more readable
- Consider using comments to explain the purpose of these statements in complex scenarios
- For breaking out of nested loops, consider using flags or refactoring into functions
- Always test your loops with boundary conditions to ensure correct behavior

## Key Differences Between Break and Continue

| Feature | `break` | `continue` |
|---------|---------|------------|
| Purpose | Terminates loop/switch | Skips current iteration |
| Next statement | After the loop/switch | Next iteration of the loop |
| Applicability | Loops and switch | Loops only |
| Effect on nested structures | Affects only the innermost loop/switch | Affects only the innermost loop |

## Summary

- The `break` statement immediately exits the loop or switch statement
- The `continue` statement skips the current iteration and proceeds to the next one
- When using `continue` in while/do-while loops, ensure proper counter updates
- Both statements are powerful tools for controlling program flow, but should be used with care to maintain code readability and prevent bugs

By mastering these control flow statements, you can write more efficient and cleaner code that handles exceptions and special cases elegantly.