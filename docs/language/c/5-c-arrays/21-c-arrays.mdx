# C Arrays

Arrays are fundamental data structures in C that store collections of elements of the same data type under a single name. Arrays offer an efficient way to handle multiple related values without creating separate variables for each one.

## What is an Array?

An array is a contiguous block of memory that holds multiple values of the same type. Think of it as a sequence of labeled boxes, each containing a value, with an index that identifies each box's position.

```c
int numbers[5]; // Declares an array of 5 integers
```

In memory, it looks something like this:

```
┌─────┬─────┬─────┬─────┬─────┐
│ [0] │ [1] │ [2] │ [3] │ [4] │
└─────┴─────┴─────┴─────┴─────┘
```

## Declaring and Initializing Arrays

### Basic Declaration

```c
data_type array_name[array_size];
```

For example:

```c
int scores[10];     // An array of 10 integers
float prices[50];   // An array of 50 floating-point numbers
char message[100];  // An array of 100 characters
```

### Initialization at Declaration Time

You can initialize arrays when you declare them:

```c
int numbers[5] = {10, 20, 30, 40, 50};
```

If you provide fewer values than the array size, the remaining elements are initialized to 0:

```c
int values[5] = {1, 2, 3}; // Equivalent to {1, 2, 3, 0, 0}
```

You can also let the compiler determine the array size based on the initializer:

```c
int numbers[] = {10, 20, 30, 40, 50}; // Size is automatically set to 5
```

### Initializing All Elements to Zero

```c
int zeros[100] = {0}; // All 100 elements are initialized to 0
```

## Accessing Array Elements

Array elements are accessed using indices, which start at 0 (zero-based indexing):

```c
int scores[5] = {95, 88, 76, 90, 100};

printf("First score: %d\n", scores[0]);   // Outputs: 95
printf("Third score: %d\n", scores[2]);   // Outputs: 76
printf("Last score: %d\n", scores[4]);    // Outputs: 100
```

:::caution
Accessing an index outside the array's bounds causes undefined behavior. C does not perform bounds checking!
:::

## Modifying Array Elements

You can change array elements by assigning new values to specific indices:

```c
int values[3] = {10, 20, 30};
values[1] = 99;  // Changes the second element to 99
// Now values array contains {10, 99, 30}
```

## Arrays and Memory

Each element in an array occupies the same amount of memory, determined by the data type:

- `int` array: Each element is typically 4 bytes
- `char` array: Each element is 1 byte
- `double` array: Each element is typically 8 bytes

The elements are stored contiguously in memory, which makes arrays efficient for access but inflexible for resizing.

## Common Array Operations

### Iterating Through an Array

```c
int numbers[5] = {10, 20, 30, 40, 50};
int i;

// Print all elements
for (i = 0; i < 5; i++) {
    printf("numbers[%d] = %d\n", i, numbers[i]);
}
```

### Finding the Sum of Array Elements

```c
int numbers[5] = {10, 20, 30, 40, 50};
int sum = 0;
int i;

for (i = 0; i < 5; i++) {
    sum += numbers[i];
}

printf("Sum: %d\n", sum);  // Outputs: 150
```

### Finding the Largest Element

```c
int numbers[5] = {30, 10, 50, 20, 40};
int max = numbers[0];  // Assume first element is the largest
int i;

for (i = 1; i < 5; i++) {
    if (numbers[i] > max) {
        max = numbers[i];
    }
}

printf("Largest element: %d\n", max);  // Outputs: 50
```

## Arrays as Function Parameters

When passing arrays to functions, you're actually passing a pointer to the first element:

```c
void processArray(int arr[], int size) {
    // Function can modify the original array
    for (int i = 0; i < size; i++) {
        arr[i] *= 2;
    }
}

int main() {
    int numbers[5] = {1, 2, 3, 4, 5};
    
    processArray(numbers, 5);
    
    // Original array is modified
    for (int i = 0; i < 5; i++) {
        printf("%d ", numbers[i]);  // Outputs: 2 4 6 8 10
    }
    
    return 0;
}
```

## Limitations and Common Pitfalls

1. **Fixed Size**: Arrays in C have a fixed size that cannot be changed after declaration.

2. **No Bounds Checking**: C does not check if you access an element outside the array bounds.

   ```c
   int arr[5];
   arr[10] = 50;  // Dangerous! No error, but writes to memory outside the array
   ```

3. **No Size Information**: Arrays do not store their own size. You must track the size separately.

## Example: Simple Grade Analyzer

```c
#include <stdio.h>

int main() {
    int grades[10];
    int i, sum = 0;
    float average;
    
    // Input grades
    printf("Enter 10 grades:\n");
    for (i = 0; i < 10; i++) {
        printf("Grade %d: ", i+1);
        scanf("%d", &grades[i]);
        sum += grades[i];
    }
    
    // Calculate average
    average = (float)sum / 10;
    
    // Find number of grades above average
    int aboveAverage = 0;
    for (i = 0; i < 10; i++) {
        if (grades[i] > average) {
            aboveAverage++;
        }
    }
    
    printf("Average grade: %.2f\n", average);
    printf("Number of grades above average: %d\n", aboveAverage);
    
    return 0;
}
```

## Summary

- Arrays store multiple values of the same type in contiguous memory locations
- Array indices start at 0
- Arrays have a fixed size once declared
- Elements can be accessed and modified using square bracket notation
- When passing arrays to functions, you're passing a reference to the original array
- C does not perform bounds checking on arrays, so be careful with indices

In the next section, we'll explore multidimensional arrays, which extend the concept of arrays to multiple dimensions.