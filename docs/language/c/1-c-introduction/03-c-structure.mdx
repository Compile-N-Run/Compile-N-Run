import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# C Structure

C is a structured programming language with a specific format that every program must follow. Understanding the fundamental structure of a C program is essential before diving deeper into the language.


## Basic Structure of a C Program

A C program typically consists of the following components:

1. Preprocessor directives
2. Function declarations
3. Global variable declarations
4. Main function definition
5. Other function definitions

Here's a simple example that demonstrates the basic structure:

```c
// Preprocessor directive
#include <stdio.h>

// Function declaration (prototype)
void greet(char name[]);

// Global variable
int globalVar = 10;

// Main function - program execution begins here
int main() {
    // Local variable
    char userName[] = "Learner";
    
    // Function call
    greet(userName);
    
    // Return statement
    return 0;
}

// Function definition
void greet(char name[]) {
    printf("Hello, %s! Welcome to C programming.\n", name);
    printf("The global variable value is: %d\n", globalVar);
}
```

## Main Function

Every C program must have a `main()` function. It serves as the entry point for program execution - this is where your program starts running.

<Tabs>
    <TabItem value="basic" label="Basic Main" default>

        ```c
        int main() {
        // Code statements
        return 0;
    }
        ```

    </TabItem>
    <TabItem value="params" label="With Parameters">

        ```c
        int main(int argc, char *argv[]) {
        // Code with command line arguments
        return 0;
    }
        ```

    </TabItem>
</Tabs>

The `main()` function:
- Returns an integer value (typically 0 for successful execution)
- Can receive command-line arguments (advanced usage)
- Contains the primary logic of your program

## Preprocessor Directives

Lines starting with `#` are preprocessor directives. The most common one is `#include`, which allows you to include header files in your program.

```c
#include <stdio.h>   // Standard input/output functions
#include <stdlib.h>  // Standard library functions
#include "myheader.h" // Custom header file
```

## Functions

Functions are reusable blocks of code that perform specific tasks. A C program can have multiple functions, but must have at least the `main()` function.

```c
// Function with no parameters and no return value
void sayHello() {
    printf("Hello, world!\n");
}

// Function with parameters and return value
int add(int a, int b) {
    return a + b;
}
```

## Variables and Statements

Within functions, you define variables and write statements:

```c
int main() {
    // Variable declarations
    int age;
    float height;
    
    // Assignment statements
    age = 25;
    height = 5.9;
    
    // Function call statement
    printf("Age: %d, Height: %.1f\n", age, height);
    
    // Control statement (if condition)
    if (age > 18) {
        printf("Adult\n");
    }
    
    return 0;
}
```

## Comments

Comments help make your code readable and are ignored by the compiler:

```c
// This is a single-line comment

/* 
   This is a 
   multi-line comment 
*/
```

## Putting It All Together

Here's a more comprehensive example demonstrating the structure of a C program:

```c
/* 
   Program: Temperature Converter
   Description: Converts Celsius to Fahrenheit
*/

#include <stdio.h>

// Function declaration
float celsiusToFahrenheit(float celsius);

// Global constant
const char* PROGRAM_NAME = "Temperature Converter";

int main() {
    // Variable declarations
    float tempCelsius, tempFahrenheit;
    
    // Program logic
    printf("=== %s ===\n", PROGRAM_NAME);
    printf("Enter temperature in Celsius: ");
    scanf("%f", &tempCelsius);
    
    tempFahrenheit = celsiusToFahrenheit(tempCelsius);
    
    printf("%.1f°C = %.1f°F\n", tempCelsius, tempFahrenheit);
    
    return 0;
}

// Function definition
float celsiusToFahrenheit(float celsius) {
    return (celsius * 9.0/5.0) + 32;
}
```

## C Program Compilation and Execution Flow

When you write a C program, it goes through several stages before execution:

1. **Preprocessing**: Expands macros and includes header files
2. **Compilation**: Converts C code to assembly code
3. **Assembly**: Converts assembly code to object code
4. **Linking**: Combines object files and libraries into an executable
5. **Execution**: The program runs on the computer

## Best Practices for Program Structure

- Keep your code organized with proper indentation
- Use meaningful function and variable names
- Include comments to explain complex logic
- Break down complex problems into smaller functions
- Keep the `main()` function clear and concise
- Use header files for function declarations and constants
- Follow consistent naming conventions

Understanding the structure of a C program forms the foundation for writing clean, organized, and maintainable code. As you continue your C programming journey, you'll build upon this basic structure to create more complex applications.