---
title: JavaScript DOM Manipulation
description: Learn how to interact with and modify web pages using JavaScript's Document Object Model (DOM) manipulation capabilities.

---

# JavaScript DOM Manipulation

## Introduction to the DOM

The Document Object Model (DOM) is a programming interface for web documents. It represents the page as a tree of nodes that JavaScript can interact with, allowing you to create dynamic and interactive web pages.

Think of the DOM as a structured representation of your HTML document where each element (like paragraphs, divs, or buttons) becomes a node that can be manipulated using JavaScript.

## Why DOM Manipulation Matters

DOM manipulation is essential because it allows you to:

- Dynamically update content on a page without reloading
- Respond to user interactions
- Create, modify, or delete HTML elements
- Change styles and attributes of elements
- Implement interactive features like form validation or animations

## Accessing DOM Elements

Before manipulating elements, you need to access them first. Here are the most common methods:

### getElementById

```javascript
// HTML: <div id="myDiv">Hello World</div>
const element = document.getElementById('myDiv');
console.log(element.innerHTML); // Output: Hello World
```

### getElementsByClassName

```javascript
// HTML: <p class="highlight">First</p><p class="highlight">Second</p>
const elements = document.getElementsByClassName('highlight');
console.log(elements.length); // Output: 2
console.log(elements[0].innerHTML); // Output: First
```

### getElementsByTagName

```javascript
// HTML: <p>First paragraph</p><p>Second paragraph</p>
const paragraphs = document.getElementsByTagName('p');
console.log(paragraphs.length); // Output: 2
```

### querySelector and querySelectorAll

These modern methods use CSS selectors to find elements:

```javascript
// Select the first element with class 'highlight'
const element = document.querySelector('.highlight');

// Select all elements with class 'highlight'
const allElements = document.querySelectorAll('.highlight');

// Select elements with complex selectors
const nestedElement = document.querySelector('div.container > p.special');
```

## Modifying DOM Elements

Once you've accessed elements, you can modify them in various ways:

### Changing Content

```javascript
// Change text content
element.textContent = 'New text content';

// Change HTML content (can include HTML tags)
element.innerHTML = '<strong>Bold new content</strong>';
```

### Modifying Attributes

```javascript
// Get an attribute
const imgSrc = document.querySelector('img').getAttribute('src');

// Set an attribute
document.querySelector('img').setAttribute('src', 'new-image.jpg');

// For common attributes, you can use direct properties
const link = document.querySelector('a');
link.href = 'https://example.com';
link.title = 'Visit Example';
```

### Changing Styles

```javascript
// Direct style modification
const div = document.querySelector('div');
div.style.backgroundColor = 'lightblue';
div.style.padding = '20px';
div.style.borderRadius = '5px';

// Note: CSS properties with hyphens become camelCase in JavaScript
// (e.g., 'background-color' becomes 'backgroundColor')
```

### Manipulating CSS Classes

Using the `classList` property is often better than directly changing styles:

```javascript
const element = document.querySelector('.box');

// Add a class
element.classList.add('highlight');

// Remove a class
element.classList.remove('old-class');

// Toggle a class (adds if not present, removes if present)
element.classList.toggle('active');

// Check if an element has a specific class
if (element.classList.contains('special')) {
  console.log('Element has the special class');
}
```

## Creating and Removing Elements

### Creating New Elements

```javascript
// Create a new element
const newParagraph = document.createElement('p');

// Add content to it
newParagraph.textContent = 'This is a dynamically created paragraph.';

// Add classes if needed
newParagraph.classList.add('dynamic-content');

// Append it to the document
document.body.appendChild(newParagraph);
```

### Inserting Elements at Specific Positions

```javascript
const container = document.querySelector('.container');
const referenceElement = document.querySelector('.reference');
const newElement = document.createElement('div');
newElement.textContent = 'New element';

// Insert before a specific element
container.insertBefore(newElement, referenceElement);

// Modern methods (better browser support)
referenceElement.before(newElement); // Insert before
referenceElement.after(newElement);  // Insert after
referenceElement.prepend(newElement); // Insert as first child
referenceElement.append(newElement);  // Insert as last child
```

### Removing Elements

```javascript
// Remove an element
const elementToRemove = document.querySelector('.unnecessary');
elementToRemove.remove();

// Older approach (still useful for broad compatibility)
const child = document.querySelector('.child');
child.parentNode.removeChild(child);
```

## Event Handling

Events allow you to respond to user interactions:

```javascript
const button = document.querySelector('button');

// Add a click event listener
button.addEventListener('click', function() {
  alert('Button was clicked!');
});

// Using arrow function
button.addEventListener('click', () => {
  document.querySelector('.message').textContent = 'Button clicked!';
});

// Event with event object
button.addEventListener('click', (event) => {
  console.log('Event type:', event.type);
  console.log('Target element:', event.target);
});
```

### Common Events

- `click`: When an element is clicked
- `keydown`, `keyup`: When a keyboard key is pressed or released
- `submit`: When a form is submitted
- `load`: When a resource (like an image or the page) finishes loading
- `mouseover`, `mouseout`: When the mouse enters or leaves an element
- `change`: When an input element's value changes

```javascript
// Form submit example
const form = document.querySelector('form');
form.addEventListener('submit', (event) => {
  // Prevent the default form submission
  event.preventDefault();
  
  // Get input value
  const name = document.querySelector('#name').value;
  
  // Do something with the data
  document.querySelector('.greeting').textContent = `Hello, ${name}!`;
});
```

## Practical Example: Todo List

Let's build a simple Todo list application to see DOM manipulation in action:

```html
<div class="todo-app">
  <h2>Todo List</h2>
  <form id="todo-form">
    <input type="text" id="todo-input" placeholder="Add a new task">
    <button type="submit">Add</button>
  </form>
  <ul id="todo-list"></ul>
</div>
```

```javascript
// Get the elements we need
const todoForm = document.getElementById('todo-form');
const todoInput = document.getElementById('todo-input');
const todoList = document.getElementById('todo-list');

// Handle form submission
todoForm.addEventListener('submit', function(event) {
  // Prevent the default form submission behavior
  event.preventDefault();
  
  // Get the task text (and trim whitespace)
  const taskText = todoInput.value.trim();
  
  // If the input isn't empty
  if (taskText !== '') {
    // Create a new list item
    const listItem = document.createElement('li');
    
    // Create the task text element
    const taskTextElement = document.createElement('span');
    taskTextElement.textContent = taskText;
    
    // Create a delete button
    const deleteButton = document.createElement('button');
    deleteButton.textContent = 'Delete';
    deleteButton.classList.add('delete-btn');
    
    // Add event listener to the delete button
    deleteButton.addEventListener('click', function() {
      listItem.remove();
    });
    
    // Add toggle functionality for marking tasks as complete
    taskTextElement.addEventListener('click', function() {
      taskTextElement.classList.toggle('completed');
    });
    
    // Append elements to the list item
    listItem.appendChild(taskTextElement);
    listItem.appendChild(deleteButton);
    
    // Add the new list item to the todo list
    todoList.appendChild(listItem);
    
    // Clear the input field
    todoInput.value = '';
  }
});
```

```css
/* CSS to complete the example */
.completed {
  text-decoration: line-through;
  color: #888;
}

li {
  display: flex;
  justify-content: space-between;
  padding: 8px 0;
}

.delete-btn {
  background: #ff7070;
  border: none;
  border-radius: 3px;
  cursor: pointer;
}
```

This example shows:
1. Creating new elements (`createElement`)
2. Adding content (`textContent`) 
3. Appending elements to the DOM (`appendChild`)
4. Handling events (`addEventListener`)
5. Removing elements (`remove`)
6. Toggling classes (`classList.toggle`)

## Traversing the DOM

Sometimes you need to navigate between elements based on their relationships:

```javascript
const child = document.querySelector('.child');

// Moving up
const parent = child.parentElement;

// Moving down
const firstChild = parent.firstElementChild;
const lastChild = parent.lastElementChild;
const allChildren = parent.children; // HTMLCollection of all child elements

// Moving sideways
const nextSibling = child.nextElementSibling;
const previousSibling = child.previousElementSibling;
```

## Performance Considerations

DOM manipulation can be expensive for performance. Consider these tips:

1. **Minimize DOM access**: Store references to elements in variables
2. **Batch DOM updates**: Make multiple changes at once
3. **Use document fragments** for multiple insertions:

```javascript
// Create a document fragment (invisible container)
const fragment = document.createDocumentFragment();

// Add multiple elements to the fragment
for (let i = 0; i < 100; i++) {
  const newElement = document.createElement('li');
  newElement.textContent = `Item ${i}`;
  fragment.appendChild(newElement);
}

// Add the fragment to the DOM (only one reflow/repaint)
document.getElementById('my-list').appendChild(fragment);
```

## Summary

DOM manipulation is a fundamental skill for web development that allows you to create dynamic, interactive web pages. In this guide, we've explored:

- Accessing elements using various selector methods
- Modifying content, attributes, and styles
- Creating and removing elements
- Handling user events
- Building a practical Todo list application
- Traversing DOM relationships
- Performance optimization tips

With these skills, you can transform static web pages into interactive applications that respond to user input and update dynamically.

## Exercises

To reinforce your learning:

1. Build an image gallery that displays thumbnails and shows a larger version when clicked
2. Create a form validator that checks input fields and displays error messages
3. Implement a "theme switcher" button that toggles between light and dark themes
4. Build an accordion component that expands and collapses content sections
5. Create a simple countdown timer that updates in real-time

## Additional Resources

- [MDN Web Docs: DOM Introduction](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction)
- [JavaScript.info: DOM Nodes](https://javascript.info/dom-nodes)
- [W3Schools: JavaScript HTML DOM](https://www.w3schools.com/js/js_htmldom.asp)
- [CSS-Tricks: DOM Manipulation in JavaScript](https://css-tricks.com/dom-manipulation-in-javascript/)
- [MDN: Document Object Model (DOM)](https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model)

Understanding DOM manipulation opens up a world of possibilities for creating interactive web pages and applications. Practice these concepts by building small projects, and you'll soon develop the skills to create sophisticated user interfaces.