---
title: Python File Operations
description: Learn how to perform common file operations in Python including reading, writing, appending, and manipulating files with practical examples.

---

# Python File Operations

File operations are a fundamental part of many Python applications. Whether you're working on data analysis, web development, or automation scripts, knowing how to properly handle files is essential. In this tutorial, we'll explore the various ways to open, read, write, and manipulate files in Python.

## Introduction to File Operations

In the digital world, most data is stored in files. Python provides built-in functions and methods that make it easy to work with files. These operations include:

- Opening and closing files
- Reading from files
- Writing to files
- Appending to files
- Moving the file pointer
- Handling binary files

Let's explore each of these operations with clear examples.

## Opening and Closing Files

Before you can read or write a file, you need to open it. Python's built-in `open()` function is used for this purpose.

### The `open()` Function

The basic syntax for opening a file is:

```python
file_object = open("filename", "mode")
```

The `mode` parameter specifies how you want to interact with the file:

| Mode | Description |
|------|------------|
| `'r'` | Read (default) |
| `'w'` | Write (creates a new file or truncates an existing file) |
| `'a'` | Append (adds content to the end of an existing file) |
| `'x'` | Exclusive creation (fails if the file already exists) |
| `'b'` | Binary mode (can be combined with other modes) |
| `'t'` | Text mode (default, can be combined with other modes) |
| `'+'` | Read and write mode (can be combined with other modes) |

### Closing Files

It's important to close files when you're done with them to free up system resources. There are two ways to do this:

#### Method 1: Manually using the `close()` method

```python
file = open("example.txt", "r")
# Operations on the file
file.close()
```

#### Method 2: Using a context manager (recommended)

```python
with open("example.txt", "r") as file:
    # Operations on the file
    # File automatically closes when the block ends
```

Using a context manager (the `with` statement) is recommended because it automatically handles closing the file, even if an exception occurs.

## Reading from Files

Once you've opened a file, you can read its contents in several ways.

### Reading the Entire File

```python
with open("sample.txt", "r") as file:
    content = file.read()
    print(content)
```

**Example output:**
```
Hello World!
This is a sample text file.
It contains multiple lines.
```

### Reading Line by Line

```python
with open("sample.txt", "r") as file:
    for line in file:
        print(line, end='')  # end='' removes additional newline
```

### Reading Specific Number of Characters

```python
with open("sample.txt", "r") as file:
    # Read first 10 characters
    first_10 = file.read(10)
    print(f"First 10 characters: {first_10}")
    
    # Read next 10 characters
    next_10 = file.read(10)
    print(f"Next 10 characters: {next_10}")
```

**Example output:**
```
First 10 characters: Hello Worl
Next 10 characters: d!
This is 
```

### Reading All Lines into a List

```python
with open("sample.txt", "r") as file:
    lines = file.readlines()
    print(lines)
```

**Example output:**
```
['Hello World!\n', 'This is a sample text file.\n', 'It contains multiple lines.']
```

## Writing to Files

To write to a file, you need to open it in write mode (`'w'`).

### Writing Text to a File

```python
with open("output.txt", "w") as file:
    file.write("Hello, World!\n")
    file.write("This is a new file created by Python.")
```

After running this code, the file `output.txt` will contain:

```
Hello, World!
This is a new file created by Python.
```

**Note:** Using write mode (`'w'`) will overwrite the file if it already exists.

### Writing Multiple Lines

```python
lines = ["First line\n", "Second line\n", "Third line\n"]

with open("multiline.txt", "w") as file:
    file.writelines(lines)
```

The `writelines()` method takes a list of strings and writes them to the file. Note that you need to include newline characters (`\n`) if you want each string on a separate line.

## Appending to Files

If you want to add content to an existing file without overwriting it, use append mode (`'a'`).

```python
with open("log.txt", "a") as file:
    file.write("New log entry: " + str(datetime.now()) + "\n")
```

Each time you run this code, a new line is added to the end of the file.

## File Pointer Operations

The file pointer determines where in the file the next read or write operation will occur. You can manipulate this pointer using various methods.

### The `tell()` Method

To get the current position of the file pointer:

```python
with open("sample.txt", "r") as file:
    print(f"Initial position: {file.tell()}")
    file.read(5)  # Read 5 characters
    print(f"After reading 5 characters: {file.tell()}")
```

**Example output:**
```
Initial position: 0
After reading 5 characters: 5
```

### The `seek()` Method

To move the file pointer to a specific position:

```python
with open("sample.txt", "r") as file:
    # Move to the 10th byte in the file
    file.seek(10)
    print(file.read(5))
    
    # Move back to the beginning
    file.seek(0)
    print("After seeking to beginning:", file.read(5))
```

**Example output:**
```
d!
Th
After seeking to beginning: Hello
```

## Working with Binary Files

For non-text files like images, PDFs, or executables, you need to use binary mode (`'b'`).

```python
# Reading a binary file (like an image)
with open("image.jpg", "rb") as file:
    image_data = file.read()
    print(f"Image size: {len(image_data)} bytes")

# Writing a binary file
with open("copy.jpg", "wb") as file:
    file.write(image_data)
```

## Practical Examples

Let's look at some real-world applications of file operations.

### Example 1: Log File Analyzer

This example reads a log file and counts occurrences of different log levels:

```python
def analyze_log(log_file):
    log_counts = {"INFO": 0, "WARNING": 0, "ERROR": 0}
    
    try:
        with open(log_file, "r") as file:
            for line in file:
                if "INFO" in line:
                    log_counts["INFO"] += 1
                elif "WARNING" in line:
                    log_counts["WARNING"] += 1
                elif "ERROR" in line:
                    log_counts["ERROR"] += 1
        
        print(f"Log Analysis Results:")
        print(f"INFO messages: {log_counts['INFO']}")
        print(f"WARNING messages: {log_counts['WARNING']}")
        print(f"ERROR messages: {log_counts['ERROR']}")
    
    except FileNotFoundError:
        print(f"Error: The file {log_file} was not found.")
    except Exception as e:
        print(f"An error occurred: {e}")

# Usage
analyze_log("application.log")
```

### Example 2: CSV Data Processor

This example reads data from a CSV file, processes it, and writes the results to a new file:

```python
def process_sales_data(input_file, output_file):
    try:
        with open(input_file, "r") as infile:
            # Skip header
            header = infile.readline().strip()
            
            # Process data
            total_sales = 0
            sales_count = 0
            
            with open(output_file, "w") as outfile:
                outfile.write(f"{header},Total\n")
                
                for line in infile:
                    # Assuming format: date,product,amount
                    parts = line.strip().split(',')
                    
                    if len(parts) >= 3:
                        date, product, amount = parts[0], parts[1], float(parts[2])
                        total_sales += amount
                        sales_count += 1
                        
                        # Write the original data plus a calculated total
                        outfile.write(f"{date},{product},{amount},{amount * 1.1:.2f}\n")
            
            print(f"Processed {sales_count} sales records")
            print(f"Total sales: ${total_sales:.2f}")
            print(f"Results written to {output_file}")
    
    except FileNotFoundError:
        print(f"Error: The file {input_file} was not found.")
    except Exception as e:
        print(f"An error occurred: {e}")

# Usage
process_sales_data("sales.csv", "processed_sales.csv")
```

### Example 3: File Backup Tool

This example creates a backup copy of a file with a timestamp:

```python
from datetime import datetime
import os
import shutil

def backup_file(file_path):
    if not os.path.exists(file_path):
        print(f"Error: {file_path} does not exist.")
        return
    
    # Create backup filename with timestamp
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    filename = os.path.basename(file_path)
    backup_name = f"{os.path.splitext(filename)[0]}_{timestamp}{os.path.splitext(filename)[1]}"
    backup_path = os.path.join("backups", backup_name)
    
    # Create backups directory if it doesn't exist
    os.makedirs("backups", exist_ok=True)
    
    # Copy the file
    shutil.copy2(file_path, backup_path)
    print(f"Backup created: {backup_path}")

# Usage
backup_file("important_data.txt")
```

## Exception Handling in File Operations

When working with files, many things can go wrong: files might not exist, permissions might be incorrect, or the disk might be full. It's important to handle these situations gracefully.

```python
try:
    with open("nonexistent_file.txt", "r") as file:
        content = file.read()
except FileNotFoundError:
    print("The file doesn't exist!")
except PermissionError:
    print("You don't have permission to access this file.")
except Exception as e:
    print(f"An error occurred: {e}")
```

## Summary

In this tutorial, we've covered the essential file operations in Python:

1. **Opening and closing files** using both manual methods and context managers
2. **Reading from files** using different methods like `read()`, `readline()`, and `readlines()`
3. **Writing to files** with `write()` and `writelines()`
4. **Appending content** to existing files
5. **Manipulating the file pointer** with `seek()` and `tell()`
6. **Working with binary files** for non-text data
7. **Practical examples** of common file operations
8. **Exception handling** for robust file operations

Understanding these fundamentals will allow you to effectively work with files in your Python projects, whether you're processing data, logging information, or creating backups.

## Exercises

To strengthen your understanding of Python file operations, try these exercises:

1. Create a program that counts the number of words, lines, and characters in a text file.
2. Write a script that merges multiple text files into a single file.
3. Develop a program that reads a CSV file of student grades and calculates the average grade for each student.
4. Create a simple text editor that can open, edit, and save text files.
5. Write a script that reads a binary image file, creates a copy, and then verifies that both files have the same content.

## Additional Resources

- [Python Documentation: File Objects](https://docs.python.org/3/library/io.html)
- [Python's `pathlib` module](https://docs.python.org/3/library/pathlib.html) for advanced file path handling
- [The `os` module](https://docs.python.org/3/library/os.html) for interacting with the operating system and file system
- [The `shutil` module](https://docs.python.org/3/library/shutil.html) for high-level file operations like copying and moving

By mastering file operations in Python, you'll be well-equipped to handle a wide range of programming tasks that involve data persistence and file management.