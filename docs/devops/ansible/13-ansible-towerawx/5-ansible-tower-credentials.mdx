---
title: "Ansible Tower Credentials"
description: "Learn about credential management in Ansible Tower/AWX, including setup, types, and best practices for securely storing authentication information."

---

# Ansible Tower Credentials

## Introduction

Credentials are one of the fundamental building blocks in Ansible Tower (or its open-source counterpart AWX). They provide a secure way to store and manage authentication information required to connect to and automate different systems. Rather than embedding sensitive data like passwords, SSH keys, or API tokens directly in your playbooks, Ansible Tower centralizes and encrypts this information, making your automation more secure and easier to maintain.

In this guide, we'll explore how credentials work in Ansible Tower/AWX, the different types available, and how to configure them effectively for your automation needs.

## Understanding Credential Basics

Credentials in Ansible Tower store authentication details that allow Ansible to connect to and manage various systems, whether they're servers, network devices, cloud platforms, or external services.

### Key Benefits of Tower Credentials

- **Centralized Management**: Store all authentication information in one secure location
- **Encryption**: Sensitive data is encrypted in the database
- **Access Control**: Credentials can be shared with specific users or teams
- **Separation of Concerns**: Playbook authors don't need to know actual credentials
- **Credential Rotation**: Update credentials in one place without modifying playbooks

## Credential Types in Ansible Tower

Ansible Tower offers several predefined credential types to cover common use cases. Let's explore the most important ones:

### Machine Credentials

Machine credentials allow Ansible to SSH or WinRM into target hosts. They're the most commonly used credential type.

```yaml
# Example machine credential configuration
Name: Production Servers
Description: Credentials for production Linux servers
Credential Type: Machine
Username: ansible
SSH Private Key: -----BEGIN RSA PRIVATE KEY----- ... -----END RSA PRIVATE KEY-----
Privilege Escalation Method: sudo
Privilege Escalation Username: root
```

### Source Control Credentials

These credentials allow Ansible Tower to access private Git repositories where your playbooks and roles are stored.

```yaml
# Example SCM credential configuration
Name: GitHub Access
Description: Credentials for accessing private GitHub repositories
Credential Type: Source Control
Username: git-user
Password/Token: ghp_a1b2c3d4e5f6g7h8i9j0
SCM Type: Git
```

### Cloud Credentials

Cloud credentials authenticate with cloud providers like AWS, Azure, Google Cloud, or VMware.

```yaml
# Example AWS credential configuration
Name: AWS Production
Description: Access to AWS Production environment
Credential Type: Amazon Web Services
Access Key: AKIA1234567890ABCDEF
Secret Key: a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0
```

### Vault Credentials

Vault credentials allow Tower to decrypt Ansible Vault encrypted content within playbooks or variable files.

```yaml
# Example Vault credential configuration
Name: Project Vault
Description: Password to decrypt vault-encrypted content
Credential Type: Vault
Vault Password: secure_vault_password123
```

### Network Credentials

Specialized credentials for network device automation, supporting various authentication methods used by network hardware.

```yaml
# Example network credential configuration
Name: Cisco Switches
Description: Access to core Cisco switches
Credential Type: Network
Username: admin
Password: cisco_password
Enable Password: cisco_enable_password
```

## Creating and Managing Credentials

Let's walk through the process of creating credentials in Ansible Tower:

### Creating a New Credential

1. Navigate to the **Credentials** section in the Tower UI
2. Click the **Add** button
3. Select the appropriate credential type
4. Fill in the required fields (varies by credential type)
5. Set the appropriate permissions for who can use this credential
6. Save the credential

Here's what the process looks like for creating a basic SSH credential:

```mermaid
flowchart TD
    A[Navigate to Credentials] --> B[Click Add]
    B --> C[Select Machine Credential Type]
    C --> D[Enter Name and Description]
    D --> E[Enter Username]
    E --> F[Provide SSH Private Key or Password]
    F --> G[Configure Privilege Escalation if needed]
    G --> H[Set Access Permissions]
    H --> I[Save Credential]
```

## Using Credentials in Job Templates

Credentials become useful when attached to Job Templates. A Job Template can use multiple credentials simultaneously, each serving a different purpose.

### Example Job Template Configuration

```yaml
Name: Deploy Application
Inventory: Production Servers
Project: Application Deployment
Playbook: deploy.yml
Credentials:
  - Production Servers (Machine)
  - GitHub Access (Source Control)
  - AWS Production (Cloud)
  - Project Vault (Vault)
```

In this example, the Job Template uses:
- Machine credentials to connect to servers
- Source Control credentials to access the repository
- Cloud credentials for AWS-related tasks
- Vault credentials to decrypt sensitive variables

### Practical Example: Multi-Tier Application Deployment

Let's look at a real-world scenario where multiple credentials are used in a deployment workflow:

```mermaid
flowchart LR
    A[Job Template] --> B[Source Control Credential]
    A --> C[Machine Credential]
    A --> D[Cloud Credential]
    A --> E[Vault Credential]
    
    B --> F[Pull deployment code from GitHub]
    C --> G[SSH to application servers]
    D --> H[Create cloud resources]
    E --> I[Decrypt sensitive variables]
    
    F & G & H & I --> J[Complete deployment]
```

## Custom Credential Types

While Tower includes many built-in credential types, you can also create custom types for specialized systems or services.

### Creating a Custom Credential Type

1. Navigate to **Credential Types** in the Administration menu
2. Click **Add**
3. Define:
   - Name: A descriptive name
   - Input Configuration: JSON/YAML defining fields to show in the UI
   - Injector Configuration: JSON/YAML defining how to inject variables

### Custom Credential Example: External API Service

```yaml
# Input Configuration
fields:
  - id: api_endpoint
    type: string
    label: API Endpoint URL
  - id: api_token
    type: string
    label: API Token
    secret: true
  - id: verify_ssl
    type: boolean
    label: Verify SSL
    default: true

# Injector Configuration
env:
  API_ENDPOINT: '{{ api_endpoint }}'
  API_TOKEN: '{{ api_token }}'
extra_vars:
  api_verify_ssl: '{{ verify_ssl }}'
```

With this custom credential type, users can input service-specific details, and Tower will inject them appropriately when the credential is used.

## Credential Security Best Practices

To maintain secure automation environments with Ansible Tower, follow these credential best practices:

### 1. Implement Least Privilege

Assign the minimum necessary permissions to each credential. For example:
- Use service accounts with limited access
- Create read-only cloud credentials when possible
- Limit sudo privileges to only what's needed

### 2. Implement Credential Rotation

Regularly update credentials to limit the impact of potential breaches:
- Set a rotation schedule for passwords and API keys
- Leverage Tower's centralized management to update in one place
- Consider integration with external secrets management platforms

### 3. Control Credential Access

Carefully manage who can use and view each credential:
- Restrict credential access to specific users/teams
- Use Tower's Role-Based Access Control (RBAC)
- Consider creating separate credentials for development/testing environments

### 4. Auditing and Monitoring

Keep track of credential usage:
- Review Tower logs for credential usage
- Monitor for suspicious access patterns
- Perform regular security reviews

## Troubleshooting Credential Issues

Common credential problems and their solutions:

### Authentication Failures

If you're experiencing SSH authentication failures:
- Verify that the username is correct
- Ensure the SSH key or password is accurate
- Check that the user has appropriate access on target systems
- Validate that the SSH private key format is correct (including headers)

### Cloud Credential Issues

For cloud credential problems:
- Verify API keys are still valid and not expired
- Ensure the service account has appropriate permissions
- Check regional settings if applicable
- Validate endpoint URLs for custom cloud setups

### SCM Access Problems

For source control access issues:
- Verify repository URL and credentials
- Ensure the access token has appropriate permissions
- Check for expired tokens or passwords
- Validate SSH key format for SSH-based repository access

## Summary

Ansible Tower credentials provide a secure, centralized way to manage authentication information for your automation environment. By separating sensitive authentication details from playbooks and projects, Tower enhances security while making credential management more maintainable.

Key takeaways:
- Use the appropriate credential type for each authentication need
- Leverage Tower's encryption to store sensitive information securely
- Implement credential access controls through RBAC
- Create custom credential types for specialized systems
- Follow security best practices for credential management

## Additional Resources

To further explore Ansible Tower credentials:

- Ansible Tower Documentation - Credential Management
- Red Hat Ansible Tower Administration Guide
- Ansible Tower API - Credential Endpoints
- Ansible Community Forums for advanced questions

## Practice Exercises

1. Create a machine credential for accessing your development servers
2. Set up a source control credential to access a private GitHub repository
3. Create a custom credential type for an internal service your organization uses
4. Configure a job template that uses multiple credential types
5. Implement a credential rotation plan for your Ansible Tower environment