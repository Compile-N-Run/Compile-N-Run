---
title: Echo Static Middleware
description: Learn how to serve static files in Echo web applications using Echo's built-in static middleware. This guide covers basic and advanced usage with practical examples.

---

# Echo Static Middleware

## Introduction

When building web applications, you often need to serve static files such as images, CSS stylesheets, JavaScript files, or other assets. Echo framework provides a built-in middleware called **Static Middleware** that makes serving these files straightforward and efficient.

In this guide, you'll learn how to use Echo's Static middleware to serve static files in your Go web applications, starting from basic usage to more advanced configurations.

## What is Static Middleware?

Static middleware is a component in the Echo framework that handles requests for static files, serving them directly from your file system without requiring you to write custom handlers for each file type.

The middleware works by:
1. Intercepting HTTP requests to specific URL paths
2. Mapping those paths to directories on your server's file system
3. Serving the requested files with appropriate content types

## Basic Usage

Let's start with a simple example of how to serve static files from a directory:

```go
package main

import (
    "github.com/labstack/echo/v4"
    "github.com/labstack/echo/v4/middleware"
)

func main() {
    // Create a new Echo instance
    e := echo.New()
    
    // Serve static files from the "public" directory
    e.Static("/static", "public")
    
    // Start the server
    e.Start(":8080")
}
```

In this example, any request to `/static/*` will be mapped to the `public` directory in your project. For instance:

- Request: `http://localhost:8080/static/css/style.css`
- Served file: `./public/css/style.css`

## Using Static Middleware with Configuration

For more control over how static files are served, you can use the `StaticWithConfig` method:

```go
package main

import (
    "github.com/labstack/echo/v4"
    "github.com/labstack/echo/v4/middleware"
)

func main() {
    e := echo.New()
    
    // Configure static middleware with specific options
    e.StaticWithConfig(echo.StaticConfig{
        Root:   "assets",
        Browse: true,
        HTML5:  true,
        Index:  "index.html",
        Prefix: "/public",
    })
    
    e.Start(":8080")
}
```

Let's examine the configuration options:

- `Root`: The directory from which to serve static files
- `Browse`: When true, enables directory browsing
- `HTML5`: When true, the middleware redirects any request not found to the entry file (useful for single-page applications)
- `Index`: The name of the index file to serve when a directory is requested
- `Prefix`: URL prefix for the static files route

## Serving Multiple Static Directories

You can serve multiple static directories by adding multiple static middleware instances:

```go
package main

import "github.com/labstack/echo/v4"

func main() {
    e := echo.New()
    
    // Serve JavaScript files
    e.Static("/js", "public/javascripts")
    
    // Serve CSS files
    e.Static("/css", "public/stylesheets")
    
    // Serve images
    e.Static("/img", "public/images")
    
    e.Start(":8080")
}
```

This approach allows you to organize your static files into different directories based on their types.

## Handling Caching with Static Files

To optimize performance, you might want to configure caching for your static files. You can combine the Static middleware with Cache-Control middleware:

```go
package main

import (
    "github.com/labstack/echo/v4"
    "github.com/labstack/echo/v4/middleware"
    "net/http"
)

func main() {
    e := echo.New()
    
    // Add cache middleware for static routes
    cacheGroup := e.Group("/static")
    cacheGroup.Use(middleware.CacheWithConfig(middleware.CacheConfig{
        Max:    256,
        Expires: 30 * 60, // 30 minutes in seconds
    }))
    
    // Apply static middleware to the group
    cacheGroup.Static("/", "public")
    
    e.Start(":8080")
}
```

## Real-World Example: Creating a Simple Web App

Let's build a simple web application that serves HTML, CSS, JavaScript, and images:

First, create the following directory structure:

```
myapp/
├── main.go
└── public/
    ├── css/
    │   └── style.css
    ├── js/
    │   └── script.js
    ├── images/
    │   └── logo.png
    └── index.html
```

Now, let's write our `main.go` file:

```go
package main

import (
    "github.com/labstack/echo/v4"
    "github.com/labstack/echo/v4/middleware"
    "net/http"
)

func main() {
    // Create a new Echo instance
    e := echo.New()
    
    // Add middleware
    e.Use(middleware.Logger())
    e.Use(middleware.Recover())
    
    // Serve static files from the public directory
    e.Static("/", "public")
    
    // Add a simple API endpoint
    e.GET("/api/hello", func(c echo.Context) error {
        return c.JSON(http.StatusOK, map[string]string{
            "message": "Hello from the API!",
        })
    })
    
    // Start the server
    e.Logger.Fatal(e.Start(":8080"))
}
```

With this setup:
1. Your HTML page will be served at `http://localhost:8080/`
2. Static assets will be accessible at their respective paths:
   - CSS: `http://localhost:8080/css/style.css`
   - JavaScript: `http://localhost:8080/js/script.js`
   - Images: `http://localhost:8080/images/logo.png`
3. The API endpoint will be accessible at `http://localhost:8080/api/hello`

## Advanced: Customizing File Handling

You can also create a custom handler to serve static files with special processing:

```go
package main

import (
    "github.com/labstack/echo/v4"
    "net/http"
    "os"
    "path/filepath"
)

func main() {
    e := echo.New()
    
    // Custom static file handler
    e.GET("/download/:filename", func(c echo.Context) error {
        filename := c.Param("filename")
        filePath := filepath.Join("downloads", filename)
        
        // Check if file exists
        if _, err := os.Stat(filePath); os.IsNotExist(err) {
            return c.String(http.StatusNotFound, "File not found")
        }
        
        // You could add custom logic here, like:
        // - Checking user permissions
        // - Logging download activity
        // - Processing the file before serving
        
        return c.File(filePath)
    })
    
    e.Start(":8080")
}
```

This handler gives you complete control over how files are served, allowing you to implement custom logic such as authentication checks, logging, or even transforming the files before serving them.

## Best Practices for Static File Serving

1. **Organize files logically**: Group files by type (CSS, JS, images) or by feature
2. **Use appropriate caching headers**: Implement cache control to reduce server load
3. **Consider using a CDN**: For production applications, a Content Delivery Network can improve performance
4. **Implement versioning**: Add version numbers or hashes to file names to handle cache invalidation
5. **Optimize file sizes**: Minify CSS and JavaScript, and compress images
6. **Secure your files**: Ensure that sensitive files are not exposed through your static directories

## Summary

Echo's Static middleware provides a simple yet powerful way to serve static files in your web applications. From basic file serving to advanced configurations with caching and custom handling, you now have the knowledge to efficiently manage static assets in your Echo projects.

Remember that while serving static files from your Go application is convenient during development, for production applications with high traffic, you might want to consider using a dedicated web server like Nginx or a CDN to offload this task.

## Additional Resources

- [Echo Framework Documentation](https://echo.labstack.com/middleware/static)
- [MDN Web Docs: Static Files](https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/Displaying_data/Static_files)
- [Web Performance Optimization](https://developers.google.com/web/fundamentals/performance)

## Exercises

1. Create a simple photo gallery application that serves image files from a directory
2. Implement a version-based caching strategy for your static files
3. Build a single-page application using the HTML5 mode with Echo's Static middleware
4. Create a file download system with authentication using custom static file handling
5. Configure your application to serve compressed (gzipped) static files for better performance

By completing these exercises, you'll gain hands-on experience with Echo's Static middleware and improve your web development skills.