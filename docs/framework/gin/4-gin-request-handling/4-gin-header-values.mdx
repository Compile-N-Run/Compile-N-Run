---
title: Gin Header Values
description: Learn how to access, manipulate, and use HTTP headers in the Gin web framework for Go

---

# Gin Header Values

HTTP headers provide important metadata about requests and responses in web applications. When building APIs or web servers with Gin, understanding how to access and manipulate these headers is essential. This guide will walk you through working with HTTP headers in the Gin framework.

## What are HTTP Headers?

HTTP headers are name-value pairs sent in both requests from clients and responses from servers. They contain important information such as:

- Content type
- Authentication credentials
- Cookies
- Caching directives
- Cross-origin resource sharing (CORS) settings
- Custom application-specific data

## Accessing Request Headers in Gin

Gin makes it easy to access headers sent by the client in their HTTP request. The most common methods for accessing headers are:

### Getting a Single Header Value

To retrieve a specific header value, use the `c.GetHeader()` method:

```go
func headerHandler(c *gin.Context) {
    userAgent := c.GetHeader("User-Agent")
    c.JSON(200, gin.H{
        "User-Agent": userAgent,
    })
}
```

If the header doesn't exist, this method returns an empty string.

### Checking If a Header Exists

To check if a header exists without retrieving its value:

```go
func checkHeaderHandler(c *gin.Context) {
    // The second return value tells you if the header exists
    value, exists := c.Request.Header.Get("X-Custom-Header")
    
    if exists {
        c.String(200, "Header exists with value: %s", value)
    } else {
        c.String(200, "Header does not exist")
    }
}
```

### Accessing All Headers

To access all headers at once:

```go
func allHeadersHandler(c *gin.Context) {
    headers := c.Request.Header
    c.JSON(200, headers)
}
```

## Setting Response Headers

You can also set headers in your response to the client:

```go
func responseHeaderHandler(c *gin.Context) {
    // Set a single header
    c.Header("X-Custom-Header", "custom-value")
    
    // Set multiple headers
    c.Header("X-Rate-Limit", "100")
    c.Header("X-Rate-Limit-Remaining", "99")
    
    c.String(200, "Headers have been set")
}
```

## Practical Examples

### Authentication with Headers

A common use of headers is for API authentication, such as using API keys:

```go
func authMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        // Get API key from header
        apiKey := c.GetHeader("X-API-Key")
        
        // Validate API key (simplified example)
        if apiKey != "valid-api-key-12345" {
            c.AbortWithStatusJSON(401, gin.H{"error": "Unauthorized: Invalid API key"})
            return
        }
        
        // Continue if API key is valid
        c.Next()
    }
}

func setupRouter() *gin.Engine {
    r := gin.Default()
    
    // Apply middleware to protected group
    protected := r.Group("/api")
    protected.Use(authMiddleware())
    {
        protected.GET("/data", func(c *gin.Context) {
            c.JSON(200, gin.H{"message": "Protected data accessed successfully"})
        })
    }
    
    return r
}
```

### Content Negotiation

Headers can be used to determine what format the client expects:

```go
func contentNegotiationHandler(c *gin.Context) {
    acceptHeader := c.GetHeader("Accept")
    
    switch {
    case strings.Contains(acceptHeader, "application/json"):
        c.JSON(200, gin.H{"message": "This is JSON data"})
    case strings.Contains(acceptHeader, "application/xml"):
        c.XML(200, gin.H{"message": "This is XML data"})
    default:
        c.String(200, "This is plain text data")
    }
}
```

### CORS Headers Example

Setting Cross-Origin Resource Sharing (CORS) headers:

```go
func corsMiddleware() gin.HandlerFunc {
    return func(c *gin.Context) {
        c.Header("Access-Control-Allow-Origin", "*")
        c.Header("Access-Control-Allow-Methods", "GET, POST, PUT, PATCH, DELETE, OPTIONS")
        c.Header("Access-Control-Allow-Headers", "Origin, Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization")
        
        if c.Request.Method == "OPTIONS" {
            c.AbortWithStatus(204)
            return
        }
        
        c.Next()
    }
}
```

## Complete Working Example

Here's a complete example that demonstrates various header operations:

```go
package main

import (
    "github.com/gin-gonic/gin"
    "net/http"
)

func main() {
    r := gin.Default()
    
    // Get a single header
    r.GET("/header", func(c *gin.Context) {
        userAgent := c.GetHeader("User-Agent")
        c.JSON(200, gin.H{
            "User-Agent": userAgent,
        })
    })
    
    // Get all headers
    r.GET("/headers", func(c *gin.Context) {
        headers := c.Request.Header
        c.JSON(200, headers)
    })
    
    // Set response header
    r.GET("/set-header", func(c *gin.Context) {
        c.Header("X-Custom-Header", "Hello from Gin!")
        c.String(200, "Custom header has been set")
    })
    
    // Echo a specific header
    r.GET("/echo-header/:headerName", func(c *gin.Context) {
        headerName := c.Param("headerName")
        headerValue := c.GetHeader(headerName)
        
        if headerValue == "" {
            c.JSON(404, gin.H{
                "error": "Header not found",
                "header": headerName,
            })
            return
        }
        
        c.JSON(200, gin.H{
            headerName: headerValue,
        })
    })
    
    r.Run(":8080")
}
```

### Testing the Example

You can test this application using `curl`:

```bash
# Get User-Agent header
curl http://localhost:8080/header

# Get all headers
curl http://localhost:8080/headers

# Set and observe a custom header
curl -v http://localhost:8080/set-header

# Echo a specific header
curl -H "X-Test: Hello World" http://localhost:8080/echo-header/X-Test
```

## Common HTTP Headers and Their Uses

Here are some common HTTP headers you might encounter:

| Header Name | Purpose |
|-------------|---------|
| `Content-Type` | Specifies the media type of the resource |
| `Authorization` | Contains authentication credentials |
| `User-Agent` | Information about the client application |
| `Accept` | Media types the client can process |
| `Cookie` | Contains stored HTTP cookies |
| `Cache-Control` | Directives for caching mechanisms |
| `X-Forwarded-For` | Identifies client IP when using a proxy |

## Summary

Working with HTTP headers in Gin is straightforward:
- Use `c.GetHeader("name")` to retrieve header values from requests
- Use `c.Header("name", "value")` to set response headers
- Leverage headers for authentication, content negotiation, and cross-origin requests
- Headers provide essential metadata for HTTP communication

Understanding how to access and manipulate headers is an important skill when building web applications with Gin, enabling you to implement essential functionality like authentication, caching, and content negotiation.

## Additional Resources

- [Gin Framework Documentation](https://gin-gonic.com/docs/)
- [HTTP Headers - MDN Web Docs](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers)
- [Go HTTP Package Documentation](https://golang.org/pkg/net/http/)

## Exercises

1. Create a middleware that logs all request headers to the console
2. Implement a basic authentication system using the `Authorization` header
3. Build an API that returns different response formats (JSON, XML, plain text) based on the `Accept` header
4. Create an endpoint that returns all request headers as JSON
5. Implement a rate limiting middleware that uses custom headers to track API usage