---
title: Express Static Files
description: Learn how to serve static files like CSS, JavaScript, and images in Express.js applications to build complete web applications.

---

# Express Static Files

## Introduction

When building web applications, you need to serve more than just dynamic content. Your application will likely include static assets such as:

- CSS files for styling
- JavaScript files for client-side functionality
- Images, icons, and other media
- Fonts, PDFs, and downloadable files

Express provides a simple built-in middleware called `express.static` that makes serving these static files easy and efficient. This middleware enables you to designate one or more directories to serve static content directly to the client's browser.

In this tutorial, we'll learn how to properly set up and use static file serving in Express applications.

## What Are Static Files?

Static files are files that don't change based on user requests or server-side logic. They're served exactly as they exist on the server's file system. In contrast to dynamic content (which might be generated by a template engine or API response), static files are pre-existing files that are sent directly to the client without modification.

## Basic Static File Serving

### Setting Up Static Middleware

Express makes serving static files incredibly simple with the `express.static` middleware. Here's the basic syntax:

```javascript
// Syntax
app.use(express.static('directory-path'));
```

Let's create a simple Express application that serves static files from a directory called `public`:

```javascript
const express = require('express');
const app = express();
const port = 3000;

// Set up the static middleware to serve files from the 'public' directory
app.use(express.static('public'));

app.get('/', (req, res) => {
  res.send('Welcome to my Express application!');
});

app.listen(port, () => {
  console.log(`Server running at http://localhost:${port}`);
});
```

### Directory Structure

For the above example, your project structure might look like this:

```
my-express-app/
├── node_modules/
├── public/
│   ├── css/
│   │   └── styles.css
│   ├── js/
│   │   └── script.js
│   └── images/
│       └── logo.png
├── app.js
└── package.json
```

### Accessing Static Files

With this configuration, your files in the `public` directory will be accessible directly via URLs:

```
http://localhost:3000/css/styles.css
http://localhost:3000/js/script.js
http://localhost:3000/images/logo.png
```

Notice that the `public` part of the path doesn't appear in the URL. The directory you specify in `express.static()` becomes the root directory for static file access.

## Advanced Static File Configuration

### Multiple Static Directories

You can serve static files from multiple directories by calling `express.static` multiple times:

```javascript
// Serve files from 'public' directory
app.use(express.static('public'));

// Also serve files from 'assets' directory
app.use(express.static('assets'));
```

Express will look for files in the order in which you set up your middleware. If a file isn't found in `public`, it will then look in `assets`.

### Using a Virtual Path Prefix

You may want to create a virtual path prefix for your static files. This is useful for organizing your URLs or if you're serving files from multiple directories:

```javascript
// Files in the 'public' directory will be accessible under /static
app.use('/static', express.static('public'));
```

Now your files are accessible with the `/static` prefix:

```
http://localhost:3000/static/css/styles.css
http://localhost:3000/static/js/script.js
http://localhost:3000/static/images/logo.png
```

### Using Absolute Paths

For production applications, it's often better to use absolute paths instead of relative ones:

```javascript
const path = require('path');

// Using absolute path for better reliability
app.use(express.static(path.join(__dirname, 'public')));
```

Using `path.join()` with `__dirname` ensures that the path to your static directory is correct regardless of where your application is started from.

## Practical Example: Creating a Simple Portfolio Website

Let's build a simple portfolio website that uses static files. First, set up your project structure:

```
portfolio-app/
├── public/
│   ├── css/
│   │   └── style.css
│   ├── js/
│   │   └── main.js
│   ├── images/
│   │   ├── profile.jpg
│   │   └── project1.jpg
│   └── resume.pdf
├── views/
│   └── index.html
├── app.js
└── package.json
```

Now, create the `app.js` file:

```javascript
const express = require('express');
const path = require('path');
const app = express();
const port = 3000;

// Serve static files from the 'public' directory
app.use(express.static(path.join(__dirname, 'public')));

// Serve the main HTML file
app.get('/', (req, res) => {
  res.sendFile(path.join(__dirname, 'views', 'index.html'));
});

app.listen(port, () => {
  console.log(`Portfolio website running at http://localhost:${port}`);
});
```

Let's create a simple `index.html` page in the `views` directory:

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Portfolio</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <header>
        <h1>John Doe</h1>
        <p>Full Stack Developer</p>
        <img src="/images/profile.jpg" alt="Profile Photo" class="profile">
    </header>
    
    <section class="projects">
        <h2>My Projects</h2>
        <div class="project">
            <img src="/images/project1.jpg" alt="Project 1">
            <h3>E-commerce Website</h3>
            <p>A full-stack e-commerce solution built with Express and React.</p>
        </div>
    </section>
    
    <footer>
        <p>Download my <a href="/resume.pdf">resume</a></p>
    </footer>
    
    <script src="/js/main.js"></script>
</body>
</html>
```

And some basic CSS in `public/css/style.css`:

```css
body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
}

header {
    text-align: center;
    margin-bottom: 30px;
}

.profile {
    width: 150px;
    border-radius: 50%;
}

.projects {
    margin-bottom: 30px;
}

.project {
    margin-bottom: 20px;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 5px;
}

.project img {
    max-width: 100%;
    height: auto;
}

footer {
    text-align: center;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #ddd;
}
```

Now when you run this application with `node app.js`, you'll have a simple portfolio website that:

1. Serves HTML content from your main Express route
2. Loads CSS stylesheets from the `public/css` directory
3. Displays images from the `public/images` directory
4. Makes your resume available as a downloadable PDF
5. Loads client-side JavaScript from the `public/js` directory

## Performance Considerations

When serving static files in a production environment, consider these tips:

### Cache Control

You can set cache headers to improve performance:

```javascript
const options = {
  maxAge: '1d',          // Cache for 1 day
  setHeaders: (res, path) => {
    if (path.endsWith('.css') || path.endsWith('.js')) {
      // Cache CSS and JS files longer
      res.setHeader('Cache-Control', 'public, max-age=86400');
    }
  }
};

app.use(express.static('public', options));
```

### Compression

Use compression middleware to reduce file sizes:

```javascript
const compression = require('compression');
const express = require('express');
const app = express();

// Use compression for all responses
app.use(compression());

// Set up static middleware after compression
app.use(express.static('public'));
```

### Using a CDN

For production applications, consider using a Content Delivery Network (CDN) to serve your static files instead of your Express server. This improves load times for users around the world.

## Security Best Practices

### Avoid Exposing Sensitive Files

Never place sensitive files (like configuration files, server-side code, or credentials) in your static directories.

### Limit File Types

You can use middleware to restrict which types of files can be served:

```javascript
app.use((req, res, next) => {
  const fileExtension = path.extname(req.path).toLowerCase();
  const disallowedExtensions = ['.env', '.config', '.sql', '.sh'];
  
  if (disallowedExtensions.includes(fileExtension)) {
    return res.status(403).send('Access denied');
  }
  
  next();
});

app.use(express.static('public'));
```

## Summary

Serving static files in Express is straightforward but powerful. We've covered:

1. How to set up basic static file serving with `express.static`
2. Working with multiple directories and virtual paths
3. Using absolute paths for more reliable file serving
4. Building a real-world example with a portfolio website
5. Performance optimizations for production environments
6. Security best practices

Static file serving is a fundamental aspect of web development that helps you deliver a complete user experience, combining your dynamic Express routes with the necessary UI components and assets.

## Additional Resources

- [Express.js Official Documentation on Static Files](https://expressjs.com/en/starter/static-files.html)
- [MDN Web Docs: Serving static files in Express](https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/Introduction#Serving_static_files)

## Exercises

1. Create a simple Express application that serves an HTML file that includes CSS styling and a client-side JavaScript file.

2. Modify your Express application to serve static files from multiple directories with different virtual path prefixes.

3. Implement cache control headers for your static files, with different caching strategies for different file types.

4. Build a simple photo gallery application that serves images from a static directory and uses CSS for layout.

5. Create a middleware that logs each static file request, including the file path and response time.